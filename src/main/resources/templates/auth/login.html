<!DOCTYPE html>
<!-- AUTH ULTRA-SIMPLIFICADO: solo casos de uso core -->
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/base}" th:with="hideMenu=true, hideGuestMenu=true">
<head>
  <title layout:fragment="title">Iniciar Sesión - Residuos Sólidos</title>
  <th:block layout:fragment="head-extra">
    <!-- Sin CSS personalizado: seguimos el sistema visual basado en Tailwind -->
  </th:block>
  <meta name="robots" content="noindex, nofollow">
</head>
<body>
  <main layout:fragment="content" class="min-h-screen flex flex-col">

    <!-- Header del login -->
    <header class="bg-green-600 text-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <div class="flex justify-between items-center">
          <a href="/" class="text-xl font-bold text-white hover:text-green-100 transition-colors">♻️ Residuos Sólidos</a>
          <h1 class="text-lg font-medium">Iniciar Sesión</h1>
        </div>
      </div>
    </header>
    
    <!-- Breadcrumbs (alineado al contenedor 7xl) -->
    <nav class="bg-white" aria-label="Breadcrumb">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2">
        <ol class="flex items-center text-sm text-slate-600">
          <li><a href="/" class="hover:text-slate-900">Inicio</a></li>
          <li class="px-2 text-slate-400">/</li>
          <li class="text-slate-900 font-medium" aria-current="page">Iniciar Sesión</li>
        </ol>
      </div>
    </nav>

    <!-- Contenido principal -->
    <section class="flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 md:py-6">
      <!-- Mensajes -->
      <div class="max-w-2xl mx-auto">
        <p th:if="${param.success}" class="mb-3 rounded-sm ring-1 ring-emerald-900/10 bg-emerald-50 text-emerald-900 px-3 py-2 text-sm" th:text="${param.success}"></p>
        <p th:if="${param.logout}" class="mb-3 rounded-sm ring-1 ring-emerald-900/10 bg-emerald-50 text-emerald-900 px-3 py-2 text-sm">Has cerrado sesión correctamente</p>
        <p th:if="${param.error}" class="mb-3 rounded-sm ring-1 ring-rose-900/10 bg-rose-50 text-rose-900 px-3 py-2 text-sm">Usuario o contraseña incorrectos</p>
      </div>

      <!-- Formulario (fragmento) -->
      <div class="max-w-2xl mx-auto" th:replace="~{fragments/auth/login-form :: loginForm}"></div>
    </section>
  </main>

  <!-- Scripts extra -->
  <th:block layout:fragment="body-scripts">
    <!-- Sin scripts adicionales: el menú guest maneja su propio JS -->
  </th:block>
</body>
</html>
