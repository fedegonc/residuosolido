<!DOCTYPE html>
<!-- AUTH ULTRA-SIMPLIFICADO: solo casos de uso core -->
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title layout:fragment="title">Iniciar Sesión - Residuos Sólidos</title>
  <th:block layout:fragment="head-extra">
    <!-- Sin CSS personalizado: seguimos el sistema visual basado en Tailwind -->
  </th:block>
  <meta name="robots" content="noindex, nofollow">
</head>
<body>
  <section layout:fragment="content" class="min-h-screen flex flex-col">
    <!-- Navbar guest completo -->
    <div th:replace="~{fragments/guest/menu :: guestMenu}"></div>

    <!-- Breadcrumbs (alineado al contenedor 7xl) -->
    <div class="bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2">
        <nav aria-label="Breadcrumb">
          <ol class="flex items-center text-sm text-slate-600">
            <li><a href="/" class="hover:text-slate-900">Inicio</a></li>
            <li class="px-2 text-slate-400">/</li>
            <li class="text-slate-900 font-medium" aria-current="page">Iniciar Sesión</li>
          </ol>
        </nav>
      </div>
    </div>

    <!-- Contenido principal -->
    <div class="flex-1">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-10">
        <!-- Mensajes -->
        <div class="max-w-md mx-auto">
          <div th:if="${param.success}" class="mb-4 rounded-sm ring-1 ring-emerald-900/10 bg-emerald-50 text-emerald-900 px-3 py-2 text-sm" th:text="${param.success}"></div>
          <div th:if="${param.logout}" class="mb-4 rounded-sm ring-1 ring-emerald-900/10 bg-emerald-50 text-emerald-900 px-3 py-2 text-sm">Has cerrado sesión correctamente</div>
          <div th:if="${param.error}" class="mb-4 rounded-sm ring-1 ring-rose-900/10 bg-rose-50 text-rose-900 px-3 py-2 text-sm">Usuario o contraseña incorrectos</div>
        </div>

        <!-- Formulario (fragmento) -->
        <div class="max-w-md mx-auto" th:insert="~{fragments/auth/login-form :: loginForm}"></div>
      </div>
    </div>
    
    <!-- Footer compacto para páginas guest -->
    <th:block th:replace="~{fragments/guest/footer :: guestFooter}"></th:block>
  </section>

  <!-- Scripts extra -->
  <th:block layout:fragment="body-scripts">
    <!-- Sin scripts adicionales: el menú guest maneja su propio JS -->
  </th:block>
</body>
</html>
