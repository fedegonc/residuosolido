<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Título por defecto; las páginas pueden sobreescribir con <title layout:fragment="title"> -->
  <title layout:fragment="title" th:text="${pageTitle} ?: 'Residuos Sólidos - Frontera de la Paz'">Residuos Sólidos - Frontera de la Paz</title>

  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <meta name="description" th:content="${pageDescription != null ? pageDescription : 'Gestión de residuos sólidos en la frontera de la paz'}">

  <!-- Tipografía Nunito: preconnect + fallback a Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <!-- Self-hosted Nunito (woff2) -->

  <!-- Preload recursos críticos -->
  <!-- Preload de CSS críticos (sin fuentes locales) -->
  <link rel="preload" th:href="@{/css/typography.css(v=2)}" href="/css/typography.css?v=2" as="style">
  <link rel="preload" th:href="@{/css/index.css(v=2)}" href="/css/index.css?v=2" as="style">
  <link rel="preload" th:if="${heroImage != null and !#strings.isEmpty(heroImage)}" th:href="${heroImage}" as="image">

  <!-- Tipografía y estilos globales/componentes -->
  <!-- Tailwind via CDN (con plugin line-clamp). Debe ir antes de los estilos personalizados. -->
  <script src="https://cdn.tailwindcss.com?plugins=line-clamp"></script>
  <link rel="stylesheet" th:href="@{/css/typography.css(v=2)}" href="/css/typography.css?v=2">
  <link rel="stylesheet" th:href="@{/css/index.css(v=2)}" href="/css/index.css?v=2">
  <link rel="stylesheet" th:href="@{/css/button.css(v=1)}" href="/css/button.css?v=1" media="print" onload="this.media='all'">
  <link rel="stylesheet" th:href="@{/css/card.css(v=1)}" href="/css/card.css?v=1" media="print" onload="this.media='all'">
  <link rel="stylesheet" th:href="@{/css/badge.css(v=1)}" href="/css/badge.css?v=1" media="print" onload="this.media='all'">
  
  
  
  <!-- Punto de extensión para CSS extra por página -->
  <th:block layout:fragment="head-extra"></th:block>
</head>
<body>
  <!-- Contenido de la página -->
  <main id="app" layout:fragment="content">
    <!-- El contenido de cada página se inyectará aquí -->
  </main>

  <!-- Scripts globales (ligeros) -->
  <!-- Cache-busting para asegurar última versión del language-switcher -->
  <script th:src="@{/js/language-switcher.js(v=3)}" src="/js/language-switcher.js?v=3" defer></script>

  

  <!-- Punto de extensión para JS extra por página -->
  <th:block layout:fragment="body-scripts"></th:block>
</body>
</html>
