<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragments/layout :: head('Registro - Sistema de Gestión de Residuos Sólidos')}">
    <meta charset="UTF-8">
    <title>Registro - Sistema de Gestión de Residuos Sólidos</title>
</head>
<body th:replace="~{fragments/layout :: layout(~{::div.content})}">
    <div class="content">
        <h2>Registro de nuevo usuario</h2>

        <form id="registroForm" action="/api/auth/registrar" method="post">
            <div>
                <label for="nombre">Nombre:</label><br>
                <input type="text" id="nombre" name="nombre" required>
            </div>

            <div>
                <label for="apellido">Apellido:</label><br>
                <input type="text" id="apellido" name="apellido" required>
            </div>

            <div>
                <label for="usuario">Nombre de Usuario:</label><br>
                <input type="text" id="usuario" name="usuario" required>
            </div>

            <div>
                <label for="email">Correo Electrónico:</label><br>
                <input type="email" id="email" name="email" required>
            </div>

            <div>
                <label for="telefono">Teléfono:</label><br>
                <input type="tel" id="telefono" name="telefono" required>
            </div>

            <div>
                <label for="senha">Contraseña:</label><br>
                <input type="password" id="senha" name="senha" required>
            </div>

            <div>
                <label for="confirmarSenha">Confirmar Contraseña:</label><br>
                <input type="password" id="confirmarSenha" name="confirmarSenha" required>
            </div>

            <div>
                <button type="submit">Registrarse</button>
            </div>

            <div id="errorMessage"></div>
            <div id="successMessage"></div>
        </form>

        <div>
            <p>¿Ya tiene una cuenta? <a href="/">Iniciar sesión</a></p>
        </div>
    </div>

    <script>
        document.getElementById('registroForm').addEventListener('submit', function(event) {
            const senha = document.getElementById('senha').value;
            const confirmarSenha = document.getElementById('confirmarSenha').value;
            const errorMessage = document.getElementById('errorMessage');

            if (senha !== confirmarSenha) {
                event.preventDefault();
                errorMessage.textContent = 'Las contraseñas no coinciden';
                return false;
            }
            return true;
        });
    </script>

</body>
</html>
