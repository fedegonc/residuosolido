  <!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>

<!-- Fragment: campos del formulario de usuario (grid 2 cols). Un div por elemento. -->
<div th:fragment="userFormFields" id="user-form-fields" class="grid grid-cols-1 md:grid-cols-2 gap-6" th:object="${user}">
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Nombre de Usuario *</label>
    <input type="text" th:field="*{username}" required
           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500">
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
    <input type="email" th:field="*{email}" required
           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500">
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Contraseña *</label>
    <input type="password" th:field="*{password}" th:required="${!isEdit}"
           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500">
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Rol *</label>
    <select th:field="*{role}" required
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500">
      <option th:each="role : ${roles}" th:value="${role}" th:text="${role.name()}" th:selected="${role == user.role}">Role</option>
    </select>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Nombre</label>
    <input type="text" th:field="*{firstName}"
           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500">
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Apellido</label>
    <input type="text" th:field="*{lastName}"
           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500">
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Idioma Preferido</label>
    <select th:field="*{preferredLanguage}"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500">
      <option value="es" th:selected="${user.preferredLanguage == 'es'}">Español</option>
      <option value="pt" th:selected="${user.preferredLanguage == 'pt'}">Português</option>
    </select>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Usuario Activo</label>
    <input type="checkbox" th:field="*{active}" class="h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded">
  </div>

  <div class="md:col-span-2">
    <label class="block text-sm font-medium text-gray-700 mb-2">Dirección</label>
    <textarea th:field="*{address}" rows="2"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"></textarea>
  </div>
</div>

</body>
</html>
