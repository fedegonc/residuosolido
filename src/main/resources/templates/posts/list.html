<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head('Publicaciones')}">
    <title>Publicaciones - Sistema de Gestión de Residuos Sólidos</title>
</head>

<body th:replace="~{fragments/layout :: layout(~{::main})}">
    <main>
        <!-- Header -->
        <div class="bg-green-600 text-white py-12">
            <div class="container mx-auto px-4 text-center">
                <h1 class="text-3xl md:text-4xl font-bold mb-4">Publicaciones</h1>
                <p class="text-xl opacity-90">Descubre artículos sobre reciclaje y sostenibilidad</p>
            </div>
        </div>

        <!-- Breadcrumb -->
        <div class="py-3 bg-gray-100 border-b">
            <div class="container mx-auto px-4">
                <nav class="text-sm">
                    <a href="/" class="text-green-600 hover:text-green-800">Inicio</a>
                    <span class="mx-2 text-gray-500">›</span>
                    <span class="text-gray-700">Publicaciones</span>
                </nav>
            </div>
        </div>

        <!-- Categories Filter -->
        <div th:if="${categories != null and !categories.isEmpty()}" class="py-6 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="flex flex-wrap gap-3 justify-center">
                    <a href="/posts" class="bg-white hover:bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-sm text-sm font-medium transition-colors duration-200">
                        Todas
                    </a>
                    <a th:each="category : ${categories}" 
                       th:href="@{/posts/category/} + ${category.slug}"
                       th:text="${category.name}"
                       class="bg-white hover:bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-sm text-sm font-medium transition-colors duration-200">
                    </a>
                </div>
            </div>
        </div>

        <!-- Posts Grid -->
        <div class="py-12">
            <div class="container mx-auto px-4">
                <!-- Fragmento estándar de posts (index-consistente) -->
                <div th:replace="~{fragments/posts :: posts(${posts}, false)}"></div>
            </div>
        </div>
    </main>
</body>
</html>
