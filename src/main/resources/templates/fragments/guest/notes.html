  <div th:fragment="guestNotes" class="p-6" xmlns:th="http://www.thymeleaf.org">
    <h3 class="text-xl font-bold text-slate-900 mb-4 flex items-center gap-2">
      <span th:text="#{notes.title}">Notas Recientes</span>
      <svg aria-hidden="true" class="w-5 h-5 text-emerald-600"><use href="#posts"/></svg>
    </h3>

    <div th:if="${posts != null and !posts.isEmpty()}" class="space-y-3">
      <article th:each="post, iterStat : ${posts}" th:if="${iterStat.index < 3}" 
               class="p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors">
        <h4 class="font-semibold text-slate-900 text-sm mb-1">
          <a th:if="${post != null && post.id != null}"
             th:href="@{/posts/{id}(id=${post.id})}"
             th:text="${!#strings.isEmpty(post.title) ? #strings.abbreviate(post.title, 40) : '...'}"
             class="hover:text-emerald-700">Título</a>
        </h4>
        <p class="text-xs text-slate-600 mb-2" 
           th:text="${post != null && !#strings.isEmpty(post.content) ? #strings.abbreviate(post.content, 60) : ''}">Contenido...</p>
        <div class="flex items-center justify-between">
          <span class="text-xs text-slate-500" 
                th:text="${post != null && post.categoryName != null ? post.categoryName : ''}">Categoría</span>
          <a th:if="${post != null && post.id != null}"
             th:href="@{/posts/{id}(id=${post.id})}"
             class="text-xs text-emerald-600 hover:text-emerald-700">
            <span th:text="#{notes.read_more}">Leer más</span>
          </a>
        </div>
      </article>
    </div>

    <div th:if="${posts == null or posts.isEmpty()}" class="text-center py-8">
      <svg aria-hidden="true" viewBox="0 0 24 24" class="w-8 h-8 mx-auto text-slate-400 mb-2">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 002-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
      </svg>
      <p class="text-sm text-slate-600" th:text="#{notes.no_notes_available}">No hay notas disponibles</p>
    </div>

    <div class="mt-4 pt-3 border-t border-slate-200">
      <a href="/posts" class="inline-flex items-center text-emerald-600 hover:text-emerald-700 text-sm font-medium">
        <span>Ver todas las notas</span>
        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </a>
    </div>
  </div>
